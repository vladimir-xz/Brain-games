#!/usr/bin/env php
<?php

require_once __DIR__ . '/../vendor/autoload.php';

use BrainGames\Cli;
use BrainGames\Games\Even;
use BrainGames\Interaction;

$gameType = "Evengame";
$playerName = Cli\askForName();
[$playersScore, $ifContinue] = Interaction\setScore();
Interaction\startGame($gameType);
while ($ifContinue && $playersScore < 3) {
    $questionAndCorrectAnswer = Even\getEvenNumberAndAnswer($playerName);
    $correctAnswer = $questionAndCorrectAnswer["Correct"];
    $Number = $questionAndCorrectAnswer["Number"];
    $answer = Interaction\askAnswer($Number);
    $gameResult = Interaction\checkIfCorrect($answer, $correctAnswer, $playersScore);
    $ifContinue = $gameResult["Status"];
    $playersScore = $gameResult["Score"];
}
Interaction\endGame($playersScore, $playerName, $answer, $correctAnswer);
